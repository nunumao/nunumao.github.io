<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>编程日记</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
  
<link rel="stylesheet" href="/css/github-markdown.css">

  
<link rel="stylesheet" href="/css/atom-one-dark.css">

  <script src="https://cdn.tailwindcss.com"></script>
  
<script src="/js/jquery.min.js"></script>

  
<script src="/js/script.js"></script>

<meta name="generator" content="Hexo 7.3.0"></head>

<body class="bg-gray-50 text-gray-800">
  <div class="lg:hidden fixed right-4 top-4 z-50">
    <button class="p-2 bg-white/80 backdrop-blur-sm rounded-lg border" data-mobile-menu-trigger><i class="fas fa-bars"></i></button>
  </div>
  <!-- 导航栏 -->
  <nav class="border-b bg-white/80 backdrop-blur-sm sticky top-0 z-40">
    <div class="max-w-5xl mx-auto px-4">
      <div class="flex justify-between items-center h-16">
        <a href="/" class="text-xl font-serif">编程日记</a>
        <!-- 桌面端导航 -->
        <div class="hidden lg:flex items-center space-x-6">
          <div class="flex items-center space-x-6 text-sm">
            <a href="/" class="hover:text-blue-600" data-i18n="nav.home">首页</a>
            <!-- 分类下拉菜单 -->
            <div class="relative group">
              <a href="/categories" class="hover:text-blue-600">分类</a>
              <!-- 优化后的下拉内容 -->
              <div class="absolute left-0 mt-2 py-2 bg-white backdrop-blur-sm border rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                <div class="grid grid-cols-2 gap-1 w-[400px] p-4">
                  
                    
                      
                        <a class="flex items-center space-x-2 p-2 rounded-lg hover:bg-blue-50" href="/categories/前端技术/">
                          <i class="fas fa-code text-blue-500"></i>
                          <span>前端技术</span>
                        </a>
                      
                    
                      
                        <a class="flex items-center space-x-2 p-2 rounded-lg hover:bg-blue-50" href="/categories/服务器/">
                          <i class="fas fa-code text-blue-500"></i>
                          <span>服务器</span>
                        </a>
                      
                    
                      
                    
                      
                        <a class="flex items-center space-x-2 p-2 rounded-lg hover:bg-blue-50" href="/categories/后端技术/">
                          <i class="fas fa-code text-blue-500"></i>
                          <span>后端技术</span>
                        </a>
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                  
                </div>
              </div>
            </div>
            <a href="/case" class="hover:text-blue-600" data-i18n="nav.case">作品</a>
            <a href="/archives" class="hover:text-blue-600" data-i18n="nav.archives">归档</a>
            <a href="/about" class="hover:text-blue-600" data-i18n="nav.about">关于</a>
            <!-- 搜索框 -->
            <div class="relative">
              <input type="search" placeholder="Search articles..." class="w-48 px-4 py-1 text-sm border rounded-full bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500">
              <i class="fas fa-search absolute right-3 top-2 text-gray-400"></i>
            </div>
            <!-- 语言切换 -->
            <div class="flex items-center space-x-2 ml-4 text-sm border-l pl-4">
              <button class="lang-switch hover:text-blue-600" @click="changeLang('en-US')">EN</button>
              <span class="text-gray-300">|</span>
              <button class="lang-switch hover:text-blue-600" @click="changeLang('zh-CN')">简</button>
              <span class="text-gray-300">|</span>
              <button class="lang-switch hover:text-blue-600" @click="changeLang('zh-TW')">繁</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>
  <div id="mobileMenu" class="fixed inset-0 bg-white/90 backdrop-blur-sm z-40 lg:hidden hidden">
    <div class="h-full w-full flex flex-col items-center justify-center space-y-6 text-lg">
      <a href="/" class="hover:text-blue-600" data-i18n="nav.home">首页</a>
      <a href="/categories" class="hover:text-blue-600" data-i18n="nav.categories">分类</a>
      <a href="/case" class="hover:text-blue-600" data-i18n="nav.case">作品</a>
      <a href="/archives" class="hover:text-blue-600" data-i18n="nav.archive">归档</a>
      <a href="/about" class="hover:text-blue-600" data-i18n="nav.about">关于</a>
      <div class="flex items-center space-x-4 mt-4">
        <button class="lang-switch hover:text-blue-600" data-lang="en">EN</button>
        <button class="lang-switch hover:text-blue-600" data-lang="zh">简</button>
        <button class="lang-switch hover:text-blue-600" data-lang="zh-TW">繁</button>
      </div>
    </div>
  </div>
  <main class="max-w-5xl mx-auto px-4 py-12">
  <div class="lg:flex lg:gap-8">
    <!-- 文章主体 -->
    <article class="lg:w-3/4">
      <!-- 文章容器 -->
      <div class="bg-white rounded-xl overflow-hidden">
        <!-- 文章头部 -->
        <div class="px-8 pt-12 pb-8">
          <!-- 标题 -->
          <h1 class="text-3xl font-medium mb-6 leading-snug">
            Kotlin (四) | 类和对象
          </h1>

          <!-- 元信息 -->
          <div class="flex flex-wrap items-center gap-6 text-sm text-gray-500">
            <span>
              <i class="fas fa-folder-open mr-2"></i>
              
                <a href="/categories/%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF/KOTLIN/" class="hover:text-blue-600">
                  KOTLIN
                </a>
                
            </span>
            <span>
              <i class="far fa-calendar mr-2"></i>
              2025-02-10
            </span>
            <span><i class="far fa-clock mr-2"></i>15 分钟阅读</span>
            <span><i class="far fa-eye mr-2"></i>
              0
            </span>
          </div>
        </div>

        <!-- 文章内容 -->
        <div class="px-8 py-10 border-t border-b">
          <div class="markdown-body">
            <p><strong>类和对象 (Classes and Objects)</strong></p>
<p>类和对象是面向对象编程 (Object-Oriented Programming, OOP) 的核心概念。  Kotlin 是一种面向对象的语言，完全支持类和对象。  本章我们将学习如何在 Kotlin 中定义类、创建对象，以及类的一些基本特性。</p>
<p><strong>类的定义 (Class Definition)</strong></p>
<p>类是创建对象的蓝图或模板。  它定义了对象的属性 (数据) 和行为 (函数&#x2F;方法)。  在 Kotlin 中，我们使用 <code>class</code> 关键字来定义类。</p>
<p><strong>语法:</strong></p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> 类名 &#123;</span><br><span class="line">    <span class="comment">// 类体 (class body)</span></span><br><span class="line">    <span class="comment">// 属性 (properties)</span></span><br><span class="line">    <span class="comment">// 方法 (methods)</span></span><br><span class="line">    <span class="comment">// 构造函数 (constructors)</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong><code>class</code>:</strong> 关键字，表示这是一个类定义。</li>
<li><strong>类名:</strong>  类的名称，遵循标识符命名规则，通常使用 PascalCase 命名法 (首字母大写，例如 <code>Person</code>, <code>Car</code>, <code>BankAccount</code>)。</li>
<li><strong>类体:</strong>  用花括号 <code>&#123;&#125;</code> 包裹的部分，包含类的成员 (属性、方法、构造函数等)。  如果类体为空，花括号可以省略。</li>
</ul>
<p><strong>简单的类定义例子：</strong></p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 定义一个名为 Person 的类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="comment">// 类体为空，暂时没有任何属性或方法</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 创建 Person 类的对象 (实例)</span></span><br><span class="line">    <span class="keyword">val</span> person1 = Person()</span><br><span class="line">    <span class="keyword">val</span> person2 = Person()</span><br><span class="line"></span><br><span class="line">    println(person1) <span class="comment">// 输出: 包名.Person@哈希码 (对象的内存地址的哈希表示)</span></span><br><span class="line">    println(person2) <span class="comment">// 输出: 包名.Person@另一个哈希码 (不同的对象，内存地址不同)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>创建对象 (Creating Objects):</strong></p>
<p>要创建类的对象 (也称为实例)，我们直接像调用函数一样调用类名，例如 <code>Person()</code>。  这会调用类的构造函数 (constructor) 来创建并初始化对象。</p>
<p><strong>属性 (Properties)</strong></p>
<p>属性是类的数据成员，用于存储对象的状态信息。  在 Kotlin 中，属性声明方式与变量声明类似，使用 <code>val</code> 或 <code>var</code> 关键字。  属性可以直接在类体中声明。</p>
<p><strong>语法:</strong></p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> 类名 &#123;</span><br><span class="line">    <span class="keyword">var</span> 属性名<span class="number">1</span>: 数据类型 = 初始值</span><br><span class="line">    <span class="keyword">val</span> 属性名<span class="number">2</span>: 数据类型 = 初始值</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong><code>var</code> 属性:</strong>  可变属性，可以被重新赋值。</li>
<li><strong><code>val</code> 属性:</strong>  不可变属性，只能在初始化时赋值，之后不能重新赋值 (类似于 Java 的 final 字段)。</li>
<li><strong>数据类型:</strong>  属性的数据类型。  Kotlin 支持类型推断，可以省略数据类型声明。</li>
<li><strong>初始值:</strong>  属性的初始值。  <code>val</code> 属性必须在声明时或在构造函数中初始化。 <code>var</code> 属性可以稍后初始化。</li>
</ul>
<p><strong>例子：</strong></p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> name: String = <span class="string">&quot;&quot;</span>  <span class="comment">// 可变属性，字符串类型，初始值为空字符串</span></span><br><span class="line">    <span class="keyword">var</span> age: <span class="built_in">Int</span> = <span class="number">0</span>       <span class="comment">// 可变属性，整数类型，初始值为 0</span></span><br><span class="line">    <span class="keyword">val</span> breed: String = <span class="string">&quot;Golden Retriever&quot;</span> <span class="comment">// 不可变属性，字符串类型，初始值为 &quot;Golden Retriever&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> myDog = Dog() <span class="comment">// 创建 Dog 类的对象</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 访问和修改可变属性</span></span><br><span class="line">    myDog.name = <span class="string">&quot;旺财&quot;</span></span><br><span class="line">    myDog.age = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 访问不可变属性 (只能访问，不能修改)</span></span><br><span class="line">    println(<span class="string">&quot;狗狗的名字: <span class="subst">$&#123;myDog.name&#125;</span>&quot;</span>)</span><br><span class="line">    println(<span class="string">&quot;狗狗的年龄: <span class="subst">$&#123;myDog.age&#125;</span>&quot;</span>)</span><br><span class="line">    println(<span class="string">&quot;狗狗的品种: <span class="subst">$&#123;myDog.breed&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// myDog.breed = &quot;Poodle&quot; // 错误！ breed 是 val 属性，不能重新赋值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>访问属性:</strong>  使用点运算符 <code>.</code> 来访问对象的属性，例如 <code>myDog.name</code>。</p>
<p><strong>方法 (Methods)</strong></p>
<p>方法是类的函数成员，用于定义对象的行为。  方法定义在类体中，语法与函数定义类似。</p>
<p><strong>语法:</strong></p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> 类名 &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> 方法名<span class="params">(参数列表)</span></span>: 返回值类型 &#123;</span><br><span class="line">        <span class="comment">// 方法体</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="keyword">return</span> 返回值 <span class="comment">// 如果方法有返回值</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>例子：</strong></p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> radius: <span class="built_in">Double</span> = <span class="number">0.0</span> <span class="comment">// 圆的半径属性</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义一个计算圆面积的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">getArea</span><span class="params">()</span></span>: <span class="built_in">Double</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Math.PI * radius * radius</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义一个设置半径的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">setRadius</span><span class="params">(newRadius: <span class="type">Double</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (newRadius &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            radius = newRadius</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            println(<span class="string">&quot;半径必须是非负数&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> myCircle = Circle() <span class="comment">// 创建 Circle 类的对象</span></span><br><span class="line"></span><br><span class="line">    myCircle.setRadius(<span class="number">5.0</span>) <span class="comment">// 调用 setRadius 方法设置半径</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> area = myCircle.getArea() <span class="comment">// 调用 getArea 方法获取面积</span></span><br><span class="line">    println(<span class="string">&quot;圆的半径: <span class="subst">$&#123;myCircle.radius&#125;</span>&quot;</span>)</span><br><span class="line">    println(<span class="string">&quot;圆的面积: <span class="variable">$area</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>调用方法:</strong>  使用点运算符 <code>.</code> 来调用对象的方法，例如 <code>myCircle.getArea()</code>。</p>
<p><strong>构造函数 (Constructors)</strong></p>
<p>构造函数是一种特殊的方法，用于在创建对象时初始化对象的状态 (属性)。  Kotlin 有两种类型的构造函数：<strong>主构造函数 (Primary Constructor)</strong> 和 <strong>次构造函数 (Secondary Constructors)</strong>。</p>
<ul>
<li><p><strong>主构造函数 (Primary Constructor):</strong></p>
<ul>
<li>每个类只能有一个主构造函数。</li>
<li>主构造函数是类头的一部分，直接写在类名后面的括号中。</li>
<li>可以用于初始化属性，并定义构造参数。</li>
</ul>
<p>  <strong>语法:</strong></p>
  <figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> 类名 <span class="keyword">constructor</span>(参数列表) &#123; <span class="comment">// constructor 关键字可以省略</span></span><br><span class="line">    <span class="comment">// 类体</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写形式 (省略 constructor 关键字)</span></span><br><span class="line"><span class="keyword">class</span> 类名 (参数列表) &#123;</span><br><span class="line">    <span class="comment">// 类体</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>在主构造函数中初始化属性:</strong>  可以直接在主构造函数的参数列表中声明属性，并用 <code>val</code> 或 <code>var</code> 关键字修饰。  这样声明的参数会直接成为类的属性，并在构造对象时被初始化。</li>
</ul>
  <figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle</span>(<span class="keyword">val</span> width: <span class="built_in">Double</span>, <span class="keyword">val</span> height: <span class="built_in">Double</span>) &#123; <span class="comment">// width 和 height 是属性，同时也是主构造函数的参数</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">getArea</span><span class="params">()</span></span>: <span class="built_in">Double</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> width * height</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> myRectangle = Rectangle(<span class="number">10.0</span>, <span class="number">5.0</span>) <span class="comment">// 创建 Rectangle 对象，同时初始化 width 和 height 属性</span></span><br><span class="line">    println(<span class="string">&quot;矩形的宽度: <span class="subst">$&#123;myRectangle.width&#125;</span>&quot;</span>)</span><br><span class="line">    println(<span class="string">&quot;矩形的高度: <span class="subst">$&#123;myRectangle.height&#125;</span>&quot;</span>)</span><br><span class="line">    println(<span class="string">&quot;矩形的面积: <span class="subst">$&#123;myRectangle.getArea()&#125;</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>在 <code>init</code> 代码块中进行更复杂的初始化逻辑:</strong>  <code>init</code> 代码块是类体中的特殊代码块，在主构造函数执行之后、类体代码执行之前执行。  可以在 <code>init</code> 代码块中编写更复杂的初始化逻辑，例如验证参数、调用其他方法等。</li>
</ul>
  <figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="keyword">val</span> name: String, <span class="keyword">var</span> grade: <span class="built_in">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">init</span> &#123;</span><br><span class="line">        println(<span class="string">&quot;Student object created with name: <span class="variable">$name</span>, grade: <span class="variable">$grade</span>&quot;</span>) <span class="comment">// 在 init 代码块中打印信息</span></span><br><span class="line">        <span class="keyword">if</span> (grade &lt; <span class="number">1</span> || grade &gt; <span class="number">12</span>) &#123;</span><br><span class="line">            grade = <span class="number">1</span> <span class="comment">// 验证年级，如果无效则设置为默认值 1</span></span><br><span class="line">            println(<span class="string">&quot;年级无效，已设置为默认值 1&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">study</span><span class="params">()</span></span> &#123;</span><br><span class="line">        println(<span class="string">&quot;<span class="variable">$name</span> is studying in grade <span class="variable">$grade</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> student1 = Student(<span class="string">&quot;小明&quot;</span>, <span class="number">8</span>)</span><br><span class="line">    student1.study()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> student2 = Student(<span class="string">&quot;小红&quot;</span>, <span class="number">15</span>) <span class="comment">// 年级无效，init 代码块会进行验证和修正</span></span><br><span class="line">    student2.study()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>次构造函数 (Secondary Constructors):</strong></p>
<ul>
<li>类可以有零个或多个次构造函数。</li>
<li>次构造函数在类体中定义，使用 <code>constructor</code> 关键字。</li>
<li>次构造函数必须直接或间接地调用主构造函数 (如果类有主构造函数)。  可以使用 <code>this()</code> 关键字调用同一个类的其他构造函数 (包括主构造函数)。</li>
<li>次构造函数主要用于提供不同的对象初始化方式，例如不同的参数组合。</li>
</ul>
<p>  <strong>语法:</strong></p>
  <figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> 类名(主构造函数参数列表) &#123;</span><br><span class="line">    <span class="keyword">constructor</span>(次构造函数参数列表<span class="number">1</span>) : <span class="keyword">this</span>(主构造函数参数对应的参数值) &#123;</span><br><span class="line">        <span class="comment">// 次构造函数体</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(次构造函数参数列表<span class="number">2</span>) : <span class="keyword">this</span>(主构造函数参数对应的参数值) &#123;</span><br><span class="line">        <span class="comment">// 次构造函数体</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  <strong>例子：</strong></p>
  <figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span>(<span class="keyword">val</span> title: String, <span class="keyword">val</span> author: String, <span class="keyword">var</span> price: <span class="built_in">Double</span>) &#123;</span><br><span class="line">    <span class="comment">// 主构造函数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(title: String, author: String) : <span class="keyword">this</span>(title, author, <span class="number">0.0</span>) &#123; <span class="comment">// 次构造函数 1: 没有价格参数，默认价格为 0.0</span></span><br><span class="line">        println(<span class="string">&quot;次构造函数 1 被调用&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(title: String) : <span class="keyword">this</span>(title, <span class="string">&quot;Unknown Author&quot;</span>) &#123; <span class="comment">// 次构造函数 2: 只有书名参数，作者默认为 &quot;Unknown Author&quot;</span></span><br><span class="line">        println(<span class="string">&quot;次构造函数 2 被调用&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span> &#123;</span><br><span class="line">        println(<span class="string">&quot;主构造函数或次构造函数初始化完成&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">getBookInfo</span><span class="params">()</span></span>: String &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;书名: <span class="variable">$title</span>, 作者: <span class="variable">$author</span>, 价格: <span class="variable">$price</span>&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> book1 = Book(<span class="string">&quot;Kotlin 编程&quot;</span>, <span class="string">&quot;张三&quot;</span>, <span class="number">49.9</span>) <span class="comment">// 调用主构造函数</span></span><br><span class="line">    println(book1.getBookInfo())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> book2 = Book(<span class="string">&quot;Java 编程&quot;</span>, <span class="string">&quot;李四&quot;</span>) <span class="comment">// 调用次构造函数 1</span></span><br><span class="line">    println(book2.getBookInfo())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> book3 = Book(<span class="string">&quot;Python 编程&quot;</span>) <span class="comment">// 调用次构造函数 2</span></span><br><span class="line">    println(book3.getBookInfo())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>如果没有定义任何构造函数，Kotlin 会自动生成一个无参的主构造函数。</strong></p>
<p><strong>对象 (Objects) 的创建和使用</strong></p>
<p>我们已经看到了如何创建类的对象 (实例)，使用类名后跟括号 <code>()</code> 调用构造函数。  创建对象的过程也称为实例化 (instantiation)。</p>
<p><strong>对象的使用:</strong></p>
<ul>
<li><strong>访问对象的属性:</strong>  使用点运算符 <code>.</code>，例如 <code>myDog.name</code>。</li>
<li><strong>调用对象的方法:</strong>  使用点运算符 <code>.</code>，例如 <code>myCircle.getArea()</code>。</li>
</ul>
<p><strong><code>data class</code> - 数据类</strong></p>
<p>数据类 (data class) 是 Kotlin 中一种特殊的类，用于专门存储数据。  使用 <code>data</code> 关键字声明。  数据类会自动生成一些常用的方法，例如 <code>equals()</code>, <code>hashCode()</code>, <code>toString()</code>, <code>copy()</code>, <code>componentN()</code> 等，这些方法对于处理数据非常方便。</p>
<p><strong>语法:</strong></p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> 数据类名(<span class="keyword">val</span>/<span class="keyword">var</span> 属性名<span class="number">1</span>: 数据类型, <span class="keyword">val</span>/<span class="keyword">var</span> 属性名<span class="number">2</span>: 数据类型, ...)</span><br></pre></td></tr></table></figure>

<p><strong>例子：</strong></p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">Point</span>(<span class="keyword">val</span> x: <span class="built_in">Int</span>, <span class="keyword">val</span> y: <span class="built_in">Int</span>) <span class="comment">// 定义一个数据类 Point，包含 x 和 y 坐标</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> point1 = Point(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">    <span class="keyword">val</span> point2 = Point(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">    <span class="keyword">val</span> point3 = Point(<span class="number">30</span>, <span class="number">40</span>)</span><br><span class="line"></span><br><span class="line">    println(point1) <span class="comment">// 输出: Point(x=10, y=20) -  toString() 方法自动生成，输出易读的字符串表示</span></span><br><span class="line">    println(<span class="string">&quot;point1 == point2: <span class="subst">$&#123;point1 == point2&#125;</span>&quot;</span>) <span class="comment">// 输出: point1 == point2: true - equals() 方法自动生成，比较属性值是否相等</span></span><br><span class="line">    println(<span class="string">&quot;point1 == point3: <span class="subst">$&#123;point1 == point3&#125;</span>&quot;</span>) <span class="comment">// 输出: point1 == point3: false</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> point4 = point1.copy(y = <span class="number">50</span>) <span class="comment">// copy() 方法自动生成，复制对象并修改部分属性</span></span><br><span class="line">    println(point4) <span class="comment">// 输出: Point(x=10, y=50)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// componentN() 方法自动生成，用于解构 (destructuring) 数据类对象</span></span><br><span class="line">    <span class="keyword">val</span> (x, y) = point1 <span class="comment">// 解构 point1 对象，将 x 和 y 属性值分别赋值给 x 和 y 变量</span></span><br><span class="line">    println(<span class="string">&quot;x = <span class="variable">$x</span>, y = <span class="variable">$y</span>&quot;</span>) <span class="comment">// 输出: x = 10, y = 20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>数据类的优点:</strong></p>
<ul>
<li><strong>简洁:</strong>  只需一行代码即可定义一个数据类。</li>
<li><strong>自动生成常用方法:</strong>  <code>equals()</code>, <code>hashCode()</code>, <code>toString()</code>, <code>copy()</code>, <code>componentN()</code> 等方法自动生成，无需手动编写。</li>
<li><strong>方便数据处理:</strong>  特别适用于表示数据结构，例如 DTO (Data Transfer Object), POJO (Plain Old Java Object) 等。</li>
</ul>

          </div>
        </div>

        <!-- 文章底部 -->
        <div class="px-8 py-8">
          <!-- 标签 -->
          
            <div class="flex flex-wrap gap-2 mb-8">
              
                <a href="/tags/KOTLIN/" class="px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-600 transition-colors">
                  KOTLIN
                </a>
                
            </div>
            

              <!-- 分享 -->
              <div class="flex items-center justify-between mb-8 py-6 border-t border-b">
                <div class="text-sm text-gray-500">分享文章：</div>
                <div class="flex gap-4">
                  <button class="text-gray-400 hover:text-gray-600 transition-colors">
                    <i class="far fa-copy text-xl"></i>
                  </button>
                </div>
              </div>

              <!-- 上一篇/下一篇 -->
              <div class="flex flex-col sm:flex-row justify-between gap-4">
                
                  <a href="/cm72nkaxd0013wkwtasnm4p1f.html" class="group flex-1">
                    <div class="text-sm text-gray-500 mb-1">上一篇</div>
                    <div class="group-hover:text-blue-600 transition-colors">
                      Kotlin (十二) | 协程
                    </div>
                  </a>
                  
                    
                      <a href="/cm72orm19000064wtdmox3oyd.html" class="group flex-1 text-right">
                        <div class="text-sm text-gray-500 mb-1">下一篇</div>
                        <div class="group-hover:text-blue-600 transition-colors">
                          Maven (一) 简介
                        </div>
                      </a>
                      
              </div>
        </div>
      </div>
    </article>

    <!-- 侧边栏 -->
    <aside class="lg:w-1/4 mt-8 lg:mt-0 space-y-6">
      <!-- 作者信息 -->
      <div class="bg-white rounded-xl p-6">
        <div class="flex items-center gap-4 mb-4">
          <img src="/images/avatar.jpg" class="w-16 h-16 rounded-full">
          <div>
            <h3 class="font-medium">Nunumao</h3>
            <p class="text-sm text-gray-500">开发工程师</p>
          </div>
        </div>
        <p class="text-sm text-gray-600 mb-4">专注于技术研究，热爱分享技术心得</p>
        <div class="flex justify-center gap-4">
          <a href="https://github.com/nunumao" target="_blank" class="text-gray-400 hover:text-gray-600">
            <i class="fab fa-github text-xl"></i>
          </a>
          <a href="mailto:gm292018748@email.com" target="_blank" class="text-gray-400 hover:text-[#1DA1F2]">
            <i class="fas fa-envelope text-xl"></i>
          </a>
        </div>
      </div>

      <!-- 目录 -->
      <div class="bg-white rounded-xl p-6 sticky top-24">
        <h2 class="text-lg font-medium mb-4">目录</h2>
        <nav class="space-y-2 text-sm">
          
        </nav>
      </div>

      <!-- 分类列表 -->
      <div class="bg-white rounded-xl p-6">
        <h2 class="text-lg font-medium mb-4">文章分类</h2>
        <div class="space-y-3">
          
            <a href="/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/" class="flex items-center justify-between group">
              <div class="flex items-center">
                <i class="fas fa-code text-blue-500 w-5"></i>
                <span class="text-sm group-hover:text-blue-600">
                  前端技术
                </span>
              </div>
              <span class="text-xs text-gray-500">
                1
              </span>
            </a>
            
            <a href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="flex items-center justify-between group">
              <div class="flex items-center">
                <i class="fas fa-folder text-gray-500 w-5"></i>
                <span class="text-sm group-hover:text-blue-600">
                  服务器
                </span>
              </div>
              <span class="text-xs text-gray-500">
                3
              </span>
            </a>
            
            <a href="/categories/%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF/" class="flex items-center justify-between group">
              <div class="flex items-center">
                <i class="fas fa-server text-green-500 w-5"></i>
                <span class="text-sm group-hover:text-blue-600">
                  后端技术
                </span>
              </div>
              <span class="text-xs text-gray-500">
                31
              </span>
            </a>
            
        </div>
      </div>

      <!-- 相关文章 -->
      <div class="bg-white rounded-xl p-6">
        <h2 class="text-lg font-medium mb-4">相关文章</h2>
        <div class="space-y-4">
          
            <a href="/cm72nkaxe001awkwtc6bdgyhu.html" class="block group">
              <h3 class="text-sm font-medium group-hover:text-blue-600 line-clamp-2">
                Hello World
              </h3>
              <p class="text-xs text-gray-500 mt-1">2025-02-13</p>
            </a>
            
            <a href="/cm72nkax6000bwkwt554c1z0e.html" class="block group">
              <h3 class="text-sm font-medium group-hover:text-blue-600 line-clamp-2">
                Kotlin (一) | 基本语法
              </h3>
              <p class="text-xs text-gray-500 mt-1">2025-02-10</p>
            </a>
            
            <a href="/cm72nkax7000ewkwt2l4293ed.html" class="block group">
              <h3 class="text-sm font-medium group-hover:text-blue-600 line-clamp-2">
                Kotlin (三) | 函数
              </h3>
              <p class="text-xs text-gray-500 mt-1">2025-02-10</p>
            </a>
            
            <a href="/cm72nkax7000hwkwt7pw007e6.html" class="block group">
              <h3 class="text-sm font-medium group-hover:text-blue-600 line-clamp-2">
                Kotlin (七) | 集合
              </h3>
              <p class="text-xs text-gray-500 mt-1">2025-02-10</p>
            </a>
            
            <a href="/cm72nkax9000jwkwtccbg0esu.html" class="block group">
              <h3 class="text-sm font-medium group-hover:text-blue-600 line-clamp-2">
                Kotlin (二) | 控制流
              </h3>
              <p class="text-xs text-gray-500 mt-1">2025-02-10</p>
            </a>
            
        </div>
      </div>
    </aside>
  </div>
</main>

<style>
  .markdown-body {
    box-sizing: border-box;
    min-width: 200px;
    max-width: 100%;
    margin: 0 auto;
    background-color: white;
  }

  /* 适配深色模式 */
  @media (prefers-color-scheme: dark) {
    .markdown-body {
      color-scheme: dark;
      --color-prettylights-syntax-comment: #8b949e;
      --color-prettylights-syntax-constant: #79c0ff;
      --color-prettylights-syntax-entity: #d2a8ff;
      --color-prettylights-syntax-storage-modifier-import: #c9d1d9;
      --color-prettylights-syntax-entity-tag: #7ee787;
      --color-prettylights-syntax-keyword: #ff7b72;
      --color-prettylights-syntax-string: #a5d6ff;
      --color-prettylights-syntax-variable: #ffa657;
      --color-prettylights-syntax-brackethighlighter-unmatched: #f85149;
      --color-prettylights-syntax-invalid-illegal-text: #f0f6fc;
      --color-prettylights-syntax-invalid-illegal-bg: #8e1519;
      --color-prettylights-syntax-carriage-return-text: #f0f6fc;
      --color-prettylights-syntax-carriage-return-bg: #b62324;
      --color-prettylights-syntax-string-regexp: #7ee787;
      --color-prettylights-syntax-markup-list: #f2cc60;
      --color-prettylights-syntax-markup-heading: #1f6feb;
      --color-prettylights-syntax-markup-italic: #c9d1d9;
      --color-prettylights-syntax-markup-bold: #c9d1d9;
      --color-prettylights-syntax-markup-deleted-text: #ffdcd7;
      --color-prettylights-syntax-markup-deleted-bg: #67060c;
      --color-prettylights-syntax-markup-inserted-text: #aff5b4;
      --color-prettylights-syntax-markup-inserted-bg: #033a16;
      --color-prettylights-syntax-markup-changed-text: #ffdfb6;
      --color-prettylights-syntax-markup-changed-bg: #5a1e02;
      --color-prettylights-syntax-markup-ignored-text: #c9d1d9;
      --color-prettylights-syntax-markup-ignored-bg: #1158c7;
      --color-prettylights-syntax-meta-diff-range: #d2a8ff;
      --color-prettylights-syntax-brackethighlighter-angle: #8b949e;
      --color-prettylights-syntax-sublimelinter-gutter-mark: #484f58;
      --color-prettylights-syntax-constant-other-reference-link: #a5d6ff;
      --color-fg-default: #c9d1d9;
      --color-fg-muted: #8b949e;
      --color-fg-subtle: #6e7681;
      --color-canvas-default: #0d1117;
      --color-canvas-subtle: #161b22;
      --color-border-default: #30363d;
      --color-border-muted: #21262d;
      --color-neutral-muted: rgba(110, 118, 129, 0.4);
      --color-accent-fg: #58a6ff;
      --color-accent-emphasis: #1f6feb;
      --color-attention-subtle: rgba(187, 128, 9, 0.15);
      --color-danger-fg: #f85149;
    }
  }
</style>
  <!-- 页脚 -->
<footer class="border-t mt-16">
  <div class="max-w-4xl mx-auto px-4 py-8 text-center text-sm text-gray-500">
    <p>© 2025 nunumao. Built with <a href="#" class="text-blue-600">Hexo</a></p>
  </div>
</footer>
</body>

</html>